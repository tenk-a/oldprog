ＥＣＴＡＢ	ver. 1.25



    空白→タブ変換、タブ→空白変換、行末の空白・タブ削除、改行コード
  の変換、行番号の付加 等が行なえます。

    空白→タブ変換では、Ｃのソースを考慮して 'または "で囲まれた範囲
  での変換を抑制したり、変換する空白の数がある数以下なら変換しないよ
  うにできたりします。

    入力では、CR($0d),LF($0a),CRLF($0d0a) を改行として扱います。
    出力では、改行コードを CR,LF,CRLF の何れかに変更可能です。
  （とくに指定のないときは CRLF で出力）

    指定がなければ標準出力しますが、 指定されれば 入力するファイルを
  BAK ファイルにして、そのファイル名で出力できます。



■  使いかた

	use: ectab [-opts] [ファイル名]...

    オプションやファイル名は複数指定でき、オプションはファイル名の前
  後に置けます。
    同じかまたは同種のオプションが複数指定されたときは後に指定された
  ものが有効です。
    オプションは -t4s4m のように一度に指定可能です（ただし、-o, -nの
  後は不可)。
    -s は -t 実行後に行います。-s が指定されたのに -t の指定がないと
  きは -t8 が指定されたことになります.

    ファイル名の無いときは、標準入力します。

    ファイル指定ではワイルド・カード機能があり、MS-DOSのものより拡張
  されて、
	*	0文字以上の任意の文字列に一致
	?	任意の一文字に一致
	^c	c 以外の一文字に一致
	[..]	[ ] 内の文字列のどれか一文字に一致
	[^..]	[^ ] 内の文字列以外の一文字に一致
		括弧内では 0-9 のように'-'による範囲指定も可
		また、括弧内では他のワイルドカード文字は機能しない
  があります。
  また、パスの区切りとして \ だけでなく / も使えます。
    オプションは - ではじまる文字列です。 / はオプション指定としては
  使えません。



■  オプション

  - または -?
	  説明を表示します。

  -m
	  行末の不要な空白・コントロールコードを削除します。

  -rN
	  出力の改行を N=1ならLF, N=2ならCR, N=3ならCRLFにします。

  -tN
	  タブ間隔 N でタブを空白に置換します。
	  (N:1〜16  省略 8)

  -sN
	  タブ間隔 N で空白をタブに置換します。
	  (N:1〜255 省略 8)

  -zN
	  -sで変換する空白が N以下のとき変換を行ないません。
	  N は -sで指定された値より小さくないといけません。

  -b
	  -s指定のとき、 ' か " で囲まれた範囲で空白をタブに置換しま
	せん。
	  ' か " で囲まれた範囲にある \' \" は範囲の終りとして扱いま
	せん。
	  おもにＣのソースのためのオプションです。
	  が、\ で行連結され、" で囲まれる範囲が複数行になるものには
	対応していません。

	  このオプションは -s に対してのみで、-tによるタブの空白変換
	には無効です。つまり -s や -t を指定すると ' や " で囲まれた
	範囲のタブは空白に変換されるということです。

  -dN
	  行頭 Nバイトを削除します。
	  N バイト目が全角の１バイト目なら次の全角２バイト目も一緒に
	削除します。

  -c
	  TAB,CR,LF,FF,ESC,BEL以外のコントロールコードと不正全角を削
	除します。

  -a
	  出力の最後に 0x1a を付加します。

  -nN,M,L,STR
	  行番号を付けて出力します。N,L,STR はそれぞれ
	    N:行番号の桁数
	    M:次の行番号との差
	    L:０行目の行番号
	    STR:行番号とテキストの間に挟む文字列
	で、指定されなかったばあいは、-n5,1,0," : " が指定されます。
	  桁を揃えず数字の前の空白をなくしたいばあいは、N として 0を
	指定してください。
	  L は実際には存在しない０行目の行番号です。１行目の行番号は
	L+M です。
	  STR の指定では、 " か ' で囲まれた文字列か、空白が現れるま
	でを用います（たいていは空白を指定に用いると思うので, " か '
	で囲むことになるでしょう）
	  例えば、-n0,10,0," '" なら、BASIC のコメント文のようなテキ
	ストができます^^;.

  -u
	  半角小文字を大文字化します。
	  全角の２バイト目なら行ないません。

  -l
	  半角大文字を小文字化します。
	  全角の２バイト目なら行ないません。

  -k-
	  変換において、全角を考慮しないようにします。
	全角があっても、１バイトづつ処理します。

  -v
	-o 指定時のとき、処理中のファイル名を表示します。

  -o
	  入力するファイルを.bakにしてから、そのファイル名で出力しま
	す。
	  複数のファイルを処理するためにあります。

  -oPATH
	  出力を PATH にします。



■  文字コード 0 のチェック

    何かオプションを指定して実行したとき、文字列中に文字コード 0が含
  まれているか、また全角の２バイト目が不正かどうかチェックし、該当し
  たばあいエラーメッセージを標準エラー出力します。
  （オプション指定のないばあいはチェックしません）



■  おわりに

    フリーソフトウェアとします（著作権は保留）。
    非営利の配布ならば、連絡不用で自由に配布していただいてかまいませ
  ん（が、連絡してもらえると、ぼくがよろこびます^.^）。

    もちろん、作者はなんの義務も責任も負いません。利用は使用者の責任
  で行なってください。
    虫取りは作者の義務ではありませんが、なるべく無くしたいと思ってい
  るので、虫がいれば連絡してやってください。
    自分では、
    	ectab -t4s4z1bmvo *.c *.h
  で（タブ間隔４で）Ｃなどのソースに対して行なったり、
	ectab -t8s8z2bmvo *.log
  で通信のログに対して使っています... っで、他の組み合せはあまりやっ
  てないのでバグが見つかってないかもしれません。

						てんか☆（北村雅史）
						ﾆﾌﾃｨｻｰﾌﾞ    NBB00541
