RSCNAT	v0.50
	
	---- PC互換機用 RSCNT もどき ----



■　なにするもの

　　　高谷健司氏作の PC9801用の通信でのDISKアクセスEMSアクセスによる
　　文字落ち対策ソフト RSCNT をパクった PC互換機用ソフトです。

　　　RSCNT と同じように、DISK-BIOS(int 13h) と EMS-BIOS(int 67h) を
　　フックして割り込み実行前に RS をオフ、実行後に元のRSの状態に戻す
　　ようにしてます。だもんでこれ以外の原因には当然未対応です。

　　　air claft での文字落ちを軽減するためにデッチあげました。
　　　が、ほんとに効果があるかどうか怪しいです。単に気持ちの問題かも
　　しれません^^;

　　　UMB に対応していません。LH とかすると暴走します。気をつけてね。

　　　232CようわかってないしPC/ATもどうすりゃいいかわかってないし、
　　で、でもって作ってからまだ数日しか経ってない代物なので、そこん
　　とこよろしく^^;。



■　動作環境

　　　PC互換機（DOS/V）。
　　　一応、DOS5以上のつもりですが、DOS3とかでも大丈夫かも、だけど、
　　使ってるのは IBM DOS/V 6.3 でそれ以外では確認してません。
　　　シリアルポート１or２用です。３or４で用いたい場合は付属のソース
　　を手直しして再アセンブルしてください。



■　つかってみる

　　　rscnat1 が COM1用、rscnat2 が COM2用です。　必要なほうを選んで
　　rscnat としてください。

　　　usege: rscnat [r]

　　　rscnat のみの実行で常駐、rscnat r で常駐解除します。
　　通信ソフト(air craft) を実行するバッチファイルで、通信ソフト実行
　　の直前に rscnat、直後に rscnat r を置くというのを想定しています。

　　　めんどくさいのと自分基準でいいや、で、DISK-BIOSのみとかEMSのみ
　　とか、COM ポートの指定とかができません。必要に応じてソースを手直
　　ししてください（一応 COM1用と COM2用を用意していますが、COM2用し
　　か僕は使ってないです）。



■　配布条件等

　　　フリーソフトウェアです。パソ通(ｵﾝﾗｲﾝ) での非営利配布ならば作者
　　に連絡不要で再配布していただいてかまいません（でも air craftのこ
　　としか考えてないから...）。　その他の場合は事前に相談ください、
　　ってことで。
　　　ソースを付けているので、よろしければ改良してくださいませ。
　　で、それを公開していただけると助かります:)

　　　ソースはアセンブラ・ソースで TASM で生成してますが、他の MASM
　　v3 なアセンブラでもアセンブルできると思います（試してないので
　　嘘の可能性あり^^;）

　　　あっと。
　　　作者はいかなる責任も義務も負いません。利用者の責任で用いてださ
　　い。例によって十分なチェックなんて行ってるわけないので、気をつけ
　　てくださいませ。



■　たわごと

　　　他愛無いきっかけでDX4なPC互換機(DOS/V機)ユーザになり、PC98から
　　乗り換えるために通信環境を移そうとしたのですが、そのとき問題とな
　　ったのが air craft での文字落ちでした。
　　　もはや、air craftでないと NIFTYにアクセスできなくなってる身と
　　しては大問題で、rscnt 相当のPC用のものを探すものの見つからない.

　　やっぱし98で続けるしかないかなっと一旦は諦めたのですが、rscnt の
　　ドキュメントを見返してみるとやってることは結構単純そう... で、
　　ちょと逆汗してみたらやっぱり単純かも、で、試しに作ってみた、と。
　　（ものの探しかたが悪い可能性大だけど、作るほうが手取り早そ、で）

　　　いちおう、動作はしてるみたいです。が、どの程度意味あるやら...
　　38400でrscnat常駐したら、効果は現れたようなのですが、実は 19200
　　なら rscnatなくても大丈夫っぽい^^;（でもって実速に差がなさそにも
　　おもえる）ホスト(NIFTY)の状況しだいなのですが....

　　　実のとこ通信関係のプログラムってようわかってないし、PC-AT の都
　　合もようわかってないので、いろいろな意味でほんとに大丈夫なんだろ
　　うか怪しいです。
　　　フックしたのはDISK-BIOSと EMSのみですが、ひょっとして、文字表示
　　(ﾌｫﾝﾄ描写?)関係とかXMS関係とかにも必要なんだろうか、とか。

　　　でも、ほんと、すでにどっかにないものかなあ^^;


						てんか☆（北村雅史）
						NIFTY	    NBB00541
