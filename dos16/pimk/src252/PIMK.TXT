PC9801用Pi&MAGローダ Ｐｉｍｋ[ﾋﾟﾝｸ]    Ver.2.51



■　はじめに

　　このプログラムは、Ｐｉ, ＭＡＧフォーマットの16色,256色画像をPC9801
  （VM21以降(186命令,GRCG使用)）で表示するものです。
  （現在はPi,MAG以外にも 無圧縮BMP,Q0およびDJPプラグイン(?)にも対応）

    256色画像は素な98でも(安易減色な)16色/力技60色で表示でき、PC386M系,
  PC9821(B系除)ならば 256色で表示できます（運よくエンバグしてなければ 
  WAB(S/1000/2000),HF+/SF2 でも256色表示できるはず^^;）

    また EMS対応でメモリがあれば比較的大きい画像でも縦横ズリズリ等して
  表示できます（てかEMSがないとつらい...）。



■  つかいかた

usage: pimk [-opts] [.FMT] [@RESFILE] [filename...]

フォーマット指定： [.FMT]
　とくに指定の無い限り、指定されたファイル名の拡張子をみて、画像フォー
　マットを判別しています。

  ファイル指定で拡張子を省略したときは .* を付加してまずサーチし、その
  中で拡張子が .PI または .MAG のものを表示します。

  もしコマンドラインで .PI または .MAG が指定されれば、ファイル名の拡張
  子にかかわらず、そのフォーマットの画像として扱います.
	例）pimk  .mag  file.dat       file.datをMAGファイルとして表示


オプション:(機能一覧^^;) [-opts]
 --       これ以後の - で始まる文字列をオプションでなくファイル名として扱う
 -k[N]    キー入力モード([HELP]キーで説明). N:終了時のトーン[0-200%]
 -kk[N]   -kに同じで、ズリズリでWAITを挿入.
 -kn[N]   -kに同じ(ズリズリでWAITをかまさない)
 -l[X,Y]  指定座標に表示
 -lc[N]   透明色指定. N:0〜15(255)
 -ll[-]   ズリズリでループ・モード on  -ll- off
 -lv[N]   終了時のトーン
 -ly[N]   一度に表示できなかった部分をｽｸﾛｰﾙし 0:表示しない 1:表示する
 -ln      16色画像も256色画像として扱う. -ln- 16色と256色は分けて扱う.
          -nSTRにより変化するので -ln は-nSTRの後に設定すること。
 -a[N,M]  ドットの横縦比の指定. N:横比 M:縦比
 -ab      4倍拡大読込モード(-a2,2でもよい).ただしﾄﾞｯﾄ縦横比は無視
 -at      1/4縮小読込モード
 -ay      1/16縮小読込モード
 -b[N]    16色画像を指定VRAMﾍﾟｰｼﾞに表示. N:0,1
 -c       表示前に画面消去
 -e[N]    最大使用EMSを N Kbyte に設定
 -m       ｻﾌﾞﾃﾞｨﾚｸﾄﾘを再帰的に検索
 -v[N]    パレットのトーン. N:0〜200％
 -w[N]    連続表示で表示毎に N/10秒待つ(ﾃﾞﾌｫﾙﾄ5)
 -pc[-]   256色画でパレット状態により16扱いにする /[-]しない.
　　　　　判定方法はパレット 16..255番の値がすべて 0ならば 16色画像扱いに
　　　　　するというものです. （DJP対策^^;）
 -J[-]    プラグインする/[-]プラグインしない. とくにどのｵﾌﾟｼｮﾝ/ﾌｧｲﾙにも
 　　　　 先立ち-J-を指定した場合はPIMK.CFGをよみこまない.
 -n[STR]  256色画像の表示方法指定. 以下のものがある
          -nS:16色ﾃﾞｨｻﾞ
          -nW:力技60色(2画面切替)
          -nMP:PC386M/P
          -n21[a|b,0|1|2]:PC9821
          （-nWAB[,m,h,v]: WABS/WAB-1000
          　-nWAB2[,m,h,v]: WAB-2000
          　-nHF:HF+,HF3
          　-nSF:SF(HF+)　　　　　　　　　）
          なお、各画面モードの都合で-lnを設定するので-lnのは-nSTRの
          あとに行なうこと.

  デフォルト・オプション： -nW -ln- -ly1 -b0 -ll- -j- -pc-


ファイル指定：filename
  ファイル指定ではワイルド・カード機能があり、以下の
    *     0文字以上の任意の文字列に一致
    ?     任意の一文字に一致
    [..]  [ ] 内の文字列のどれか一文字に一致
    [^..] [^ ] 内の文字列以外の一文字に一致
          括弧内では 0-9 のように'-'による範囲指定も可
          また、括弧内では他のワイルドカード文字は機能しない
  があります。また、パスの区切りとして \ だけでなく / も使えます。


@レスポンスファイル指定：@RESFILE
　@RESFILEで指定されたレスポンスファイルより、画像ファイル名を読み込
　みます。
　指定されたファイル中に記述できるのはファイル名だけで、オプション
　は指定できません（- や @ で始まるものもファイル名と解釈する）

　レスポンスファイル中で指定された画像ファイルは、コマンドラインで
　指定された画像ファイルのあとに処理されます。

  ただし、ファイル数が多いときは読み込みきれない場合があります。


その他：
　オプション開始文字は - のみで、/ は違います。

　キーの説明については、実際に使って HELP キーを押してください。

  連続表示(-kを指定しない場合)においてシフト・キーを押していれば、
（画面が点滅したあと(HF,SFでは点滅無)）キー入力モードへ移行できます。

  ファイル名指定無しで起動したばあい、-c -lv -nSTR オプションのみで
すが使うことができます. 
  -nSTRで指定した画面を、クリア(-c) 明度変更(-lv)できます.
（普通の98画面は-nSTRによらず-cだとクリアされます）



■　定義ファイルについて

　　起動時、pimk.exe と同じディレクトリに pimk.cfg というファイルがあれ
　ば、そのファイルからオプション（＆プラグイン定義）を読み込みます。
  オプションは１行につき一つで - で始まる行はオプション、 ;で始まる行は
  コメント、-END-で始まる行があれば、そこで読み込み終了、それ以外の行は
  プラグイン定義として扱われます.（プラグインについては別項参照）

    ただし、コマンドラインで、どのオプション／ファイル名にも先立ち -J-
  が指定された場合は、pimk.cfg は読み込まれません.
 	ex)pimk -j- *		.CFG読込無. ﾌﾟﾗｸﾞｲﾝせずｶﾚﾝﾄにある画像を表示
	   pimk * -j-		.CFG読込有. ﾌﾟﾗｸﾞｲﾝせずｶﾚﾝﾄにある画像を表示



■　機能/制限等

    以下、基本的に標準16色画面/力技表示,386M系表示についてです.
  他のグラフィックモードに関しては若干違い等がありますので別途補足しま
  す.

　・展開できる画像の横幅は4096ドットまでの画像です。
　　ただし大きい画像に関しては十分な空きEMS が必要です.

　・pimk では、画像ファイルを一旦、メインメモリ＆EMS にとった仮想 VRAM
　　に展開し、実際の表示は、仮想VRAMより実際のVRAMへ必要部分を転送しる
　　ことにより行なっています。

　・DoPIでは駄目だった横 8ドット単位でない画像にPimkでは表示できます.
    といってもすべてでなく横８ドット単位でない画像の表示では機能によっ
    てはいろいろ手抜きがあります。がそれは仕様ということで^^;.
　　（ 8ドット未満の画像ではちゃんと背景と合成しないとか^^;）

  ・始点が(1,1)〜(639,399)の間にある画像はその位置から表示します.
  　そうでない始点のばあいは(0,0)にして表示します.
    また始点が(0,0)でない画像は、ズリズリできません.
　　キー入力モードにおいてHOME/CLR機能や上下左右反転機能、ﾙｰﾌﾟﾓｰﾄﾞを使
    うと始点が０になり元あった画像等が消去されたりしますので注意してく
    ださい。

　・透明色機能があります（減色表示では不可）。
    ただし始点が(1,1)〜(639,399)の間にある画像と同じ扱い(制限)です。

  ・縦横ズリズリができます。
    横始点、横幅が16の倍数でないばあいズリズリで右横にゴミが出ます。

  ・ループができます.
  　640*400 以上の画像ならばズリズリにおいて、左右、上下を繋げて表示す
    るということができます。
    （ループは素なPC98と386M以外はスムーズスクロールできません）

  　また、640*400 未満の画像ならば、その縦横に画像を並べて画面を埋め尽
    くして表示するということができます:-）
　　（普通なPC98,PC386Mでは横が8ドット単位でないばあい、隙間ができてし
      まいますがT T）

  ・いわゆる640*200ラインな画像やX68な画像のために,ドット比が縦比/横比
    が 2以上のとき縦を 2倍にし、横比/縦比が 1.3〜1.8 なら x68 の画像と
    して横を拡大し（4/3倍か 3/2倍）、1.8以上なら 2倍に拡大して画像を読
    み込みます.

  ・４倍拡大、1/4,1/16縮小読込モードが有ります。
  　ただし４倍拡大ではドット比を無視します。単にドット比調整のルーチン
  　を流用してるだけなので^^;
    この機能は単に拡大縮小がしたい、というより、
    　・4倍拡大は, 大きい画像がそうないのでズリズリのデバッグ用に.
    　・縮小は、メモリが少ないときPimkは展開を打ちきってしまうので、
 　　　 すくない機械でもなんとか全体が見れるように.
    という事情で付けられたものです。
    拡大は、元画像の横幅が2048ドット以内のものに限ります.

  ・16色画像はMAKI形式常駐ﾊﾟﾚｯﾄ対応しています...てか、無いと不便ですの
  　で、ぜひ常駐パレットは常駐させておいてください.

  ・-n21,-nWAB,-nHF,-nSFにおいて、始点付画像の表示で、画像が画面の右横
    にはみ出したとき、左側に余計なもんを表示して画面を台無しにしてしま
    うことがあるかもしれませんが、とりあえずそれは仕様です^^;



■  スピードの速い機種を使っているばあい

　　スピードの速い機種で、-kを指定してズリズリを行なうと速すぎてちゃん
　と見ることができないばあいは、-k の代わりに -kk を指定してください。
　ウェイトをかまします。
　　なお、キー入力モードで K を押すとウェイトをかます／はずす、 ことが
  できます.

　　PC9821(B系除)で -n21を指定したばあいは -kでも -kkと同じになります。



■  キー入力モード

    以下の機能のキーがあります。基本的にはテンキー周辺に配置していまし
  たが...^^;
　とりあえずHELPキーで説明が表示されるということを覚えといてください^^;

    ESC         終了.
    　　　　　  VRAM先頭オフセットがずれていたなら0にして、再表示してか
    　　　　　　ら終了

    HELP ?      説明＆ヘッダ情報表示(画面のﾄｰﾝを50%にして表示)

    TAB =       説明＆ヘッダ情報表示(画面のﾄｰﾝを変更しないで表示)

    CR SPC      次の画像へ

    ↑↓←→    ズリズリ.
    　　　　　　640*400より大きい画像かまたはループモードのときスクロー
    　　　　　　ルする.

    ｼﾌﾄ+ｶｰｿﾙ    ズリズリ(早?)
                ウェイトがかかっていれば、はずしてスクロールする.
                （ウェイトがかかっていなければ、ほぼ意味なし^^;）

    INS         画面のトーン50％<->100％

    ROLL UP/DW  トーン変更(0〜200%)

    [           仮想VRAM全体を上下反転

    ]           仮想VRAM全体を左右反転

    DEL         画像のヘッダに入っていたコメント表示

    HOME/CLR    始点(0,0)し, 画面消去してから再表示.
                画面を消すので部分画像の表示では注意.

    -           再表示
                スクロール等により VRAM 先頭オフセットがずれていれば 0
                にして再表示

    /           ループ・モード切替(トルグ)

    K           ｽｸﾛｰﾙでWAIT挿入/削除

    D           ドキュメント表示(file.pi(mag)の拡張子を.docにしたﾌｧｲﾙを表示)

    Y           現画像を1/16縮小(縦1/4横1/4)して(仮想VRAMに)再読込

    T           現元画像を1/4縮小(縦1/2横1/2)して(仮想VRAMに)再読込

    G           普通に再読込

    B           現画像を4倍拡大(縦2横2)して(仮想VRAMに)再読込



■  256色表示モードについて

　-n[STR] で 256色画像の表示方法を指定できます。


□  ふつうの PC9801 …… -nW または -nS

    普通のPC9801ではそのままでは 256色表示できませんので減色（てきとー
  に絵を改変）して表示することになります。
  　-nS を指定すると、パレット固定で16色で表示します。
  　-nW を指定すると、いわゆる力技表示というやつで、2画面ある98のGVRAM
  を高速に交互に切り替えることで 16色以上表示するというもので、Pimk で
  は固定 60色で表示します。

  　他のローダに比べると減色に気合いが入ってなく、あまり綺麗に表示でき
  ません（力技表示も結構ちらつく...）

  　例）pimk -nW -k *.pi  キー待ちしながらカレントのpi画像をすべて表示
    例）pimk -nS -ln FN     ﾌｧｲﾙFN（16,256色関わらず）を固定16色で表示

・ズリズリ／ループ
  横８(16)ドット間隔でない画像は右端にごみ（左端の画像）がでてしまいま
  す。また、小さい絵のループ表示も横８ドット単位で表示するので、横８ド
  ット単位でない画像をループすると隙間ができてしまいます.



□  PC386M/P,PC486P …… -nMP

    PC386M,PC386P,PC486P の 256色表示機能を用いて表示します。
    デフォルトでは、16色画像については普通の PC98モードで、256色画像に
  ついては PC386Mモードで、となります。
  　-nS,-nW 同様に横８ドット単位による制限があります。

　例）pimk -nMP -k *   キー待ちしながらカレントのpi,mag画像をすべて表示



□  PC9821(B系除く) …… -n21 -n21a -n21b

　　PC9821(B系除く) の 256色表示機能を用いて表示します。

・オプション
    オプション指定は、-n21[a|b][,endmode] で、

　　-n21  24kHz(対応)ﾃﾞｨｽﾌﾟﾚｲ用で400Lを基準にしたモードです.
　　-n21A 24kHz/31kHz両モード対応ﾃﾞｨｽﾌﾟﾚｲ用で256色モードは画像サイズ
　　　　　により400L(24kHz)/480L(31kHz)を自動切り替えします.
　　-n21B 31kHz(対応)ﾃﾞｨｽﾌﾟﾚｲ用で480Lを基準にしたモードです。

  のようになってます。

    -n21A の自動切り替えは、画像が
        400ラインのときは 400ラインモードで、
        401ライン以上のときは 480 ラインモードで、
        400ライン未満なら前回のモードのまま、
  になります。

    endmode は 0〜2 の数値で、終了時をどうするかを現し、
        0 なら、起動時のモードに戻す。画面はoffにする。
        1 なら、24kHz, 400l にする。画面を表示して終了。
        2 なら、31kHz,(400l)にする。画面を表示して終了。
  となります。

    endmode を 1 or 2 で終了させると拡張グラフィックモードのまま終了す
  る、ということになるので、その後の処置はユーザ側で行なってください。
  9821に対応してない普通の98のツールを使う場合は、ユーザ側でノーマルの
  16色モードに設定しなおしてくださいね.

・キー入力
　キー入力モード時、M を押すと 400L(24kHz)/480L(31kHz) 切替ができます。
　もちろん、24kHz/31kHz両モード対応ディスプレイでないと不幸でせう。

・24kHz(400ﾗｲﾝ)オンリーなディスプレイな方
  -n21[,1] と指定してください。
　例）pimk -n21 -k *.mag キー待ちしながらカレントのmag画像をすべて表示

・31kHz(480ﾗｲﾝ)オンリーなディスプレイな方
  -n21B[,2] -ln と指定してください。
　例）pimk -n21B -ln *.pi  カレントのpi画像をすべて表示

・ズリズリ／ループ
　ズリズリですが、ループ・モードで無い場合はスムーズスクロール、ループ・
  モードだと、カーソルキーで表示位置を64ドットづつずらす表示になります
  （でも、PC9821は速いのでそこそこｽﾞﾘｽﾞﾘしてるように見えるかも...?）
  小さな画像のループ表示は、横８ドット単位でなくてもいいので期待したと
  おりに表示されるでせう。



□  WAB(S/1000/2000) …… -nWAB -nWAB2　　（※現在対応してるかは不明）

    グラフィック・アクセスレター WABS/WAB-1000/2000の256色モードで表示
  します。残念ながら、この系列の他のボードには対応してません。
  　このオプションを指定すると 256色画像だけでなく 16色画像も 256 色画
　に表示します（同時に -ln オプションが指定されたことになる. 16色画像
  は、仮想VRAM に 256色画像として展開するので、普通の98の16色画面に表
  示するのにくらべ倍、メモリを必要とします）

・オプション
  オプション指定は、

　　-nWAB[2][,Mode[,Hpos[,Vpos]]]

  です。  WABS/WAB-1000 なら -nWAB で WAB-2000 なら -nWAB2 です。

  　Mode,Hpos,Vpos は省略可能で、Mode が省略されると、現在の画面モード
  を(初期化せずに)そのまま使います。

  　パソコン立ち上げ後、一度もWAB を初期化していない場合は、正常に表示
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  されないかもしれませんので、その時はモードを指定するなり、他のツール
  ~~~~~~~~
  で初期化するなりしてください）。

  　Mode は (WABSについてた)wabtest.exe で /XXで指定する値,
          00,01,02,03,04,10,11,12,20,21,22,30
   です。なお、ぼく自身は, 00,04 のみしか確認していません^^;
  （pimkでは設定できませんが、800*500(Mode=40)に他のツールで設定して、
    Mode無指定で pimk を立ち上げると取り敢えずみれました。ただし、
  　800*600の画面として扱うので下の100行が見れませんが）

  　Hpos, Vpos は wabtest.exe で終了時に表示される値です。

・ズリズリ
　ズリズリはループ・モードで無い場合はスムーズスクロールします。
  ループ・モードにすると、スムーズスクロールではなくカーソルキーで表示
  位置を64ドットづつずらす表示になります。
  小さな画像のループ表示は、横８ドット単位でなくてもいいので期待したと
  おりに表示されるでせう。



□  HF+, HF3 …… -nHF

    フルカラー・ボードのHyperFrame+(HF+), HF3(のHF+互換ﾓｰﾄﾞ) で
  256 色画像を表示します。
  　16色画については普通のPC9801のVRAMに表示します。
  　おそい、です^^;(ズリズリができるので少しマシですが)

・オプション
　オプションは -nHF です。

・ズリズリ
　ズリズリはループ・モードで無い場合はスムーズスクロールします。
  ループ・モードにすると、スムーズスクロールではなくカーソルキーで表示
  位置を64ドットづつずらす表示になります(すごくトロイ)。
  小さな画像のループ表示は、横８ドット単位でなくてもいいので期待したと
  おりに表示されるでせう。

・キー入力
　シフトキーを押しておくと、連続表示モードからキー待ちモードへの移行が
  できますが、このとき HF,SFモードでは他のモードとちがい絵は点滅しませ
  ん。
　キー入力時、ROLLup,ROLLdown キーによるパレットトーンの変更はできませ
  ん。INSキーで 100%<=> 50% の切り替えはできます。



□  SF2 …… -nSF			（現在対応しているかは不明）

  フルカラー・ボードのSuperFrame2(SF2)で256 色画像を表示します。
  （実は -nSF は HF+/HF3 でも可..意味ないが）
　16色画については普通のPC9821のVRAMに表示します。

・オプション
　オプションは -nHF です。

・ズリズリ
　スムーズスクロールできません(T T).
  64 ドット単位で表示位置をずらして再表示、というやつです...

・キー入力
　シフトキーを押しておくと、連続表示モードからキー待ちモードへの移行が
  できますが、このとき HF,SFモードでは他のモードとちがい絵は点滅しませ
  ん。
　キー入力時、ROLLup,ROLLdown キーによるパレットトーンの変更はできませ
  ん。INSキーで 100%<=> 50% の切り替えはできます。

・おそい
　とにかく遅いです。大きい画像を表示すると、我慢できないかも^^;



■  v2.50 について

  pimk v2.50 において、pi,mag以外にも 実は、q0(rgb), 無圧縮 bmp, および
djp に対応しました。 
.q0 .rgb .bmp .djp というフォーマット名が .pi .mag 同様に扱えます。

q0(rgb)は、ヘッダファイルとして .fal または .ipr があればそれを読み込み、
なければ640*400画像として扱います。

 .q0 .rgb .bmp .djp での1600万色(フルカラー)画の表示は減色して 256色で
表示します。が減色ルーチンはかなり手抜きであまし質のよいものではないで
（とりあえず、見れればいいや、と...もうちょいなんとかしたいが）...

 16色256色を前提にフルカラーなんて考えてなかったので、WABやHF+等のフル
カラー画面には対応できそうにないです. 一旦下手な 256色に減色してから表
示ってのは顰蹙だろうな^^;...で、しばらく動作確認もしてないこともあり、
WAB,HF+,SF2対応は一応、なしってことにしました。 ルーチン自体は残してい
るので、エンバグしてなければ動くはずですが。

  pimk は、あくまで pi,mag(16色,256色画)ローダで、フルカラー表示はオマ
ケということにしといてやってください(^^;。



■  プラグイン対応について

  戦うクラリス氏考案のDJPプラグインに対応してます...
というか、みすらんであ氏のWML(21)と同じように DJP だけでなく他のコンバ
ータでもいいです.

　ようするにローダが対応していないフォーマットの画像を対応しているフォ
ーマットに他のプログラム（コンバータ）を呼び出して変換して、それを表示
するというもんです。

　変換方法は事前に定義ファイル pimk.cfg 中に記述しておきます。
  変換して出来るファイルは 環境変数 TMP で指定されたディレクトリに作成
し、表示終了後削除されます。TMPには十分な空き領域が必要です。TMPが設定
されていないときはカレントディレクトリで作業してしまいます。

  pimk.cfg に記述するプラグインの指定は、

 .<変換前拡張子>.<変換後拡張子>: <変換プログラム名> <引数...>

　で、たとえば
    .JPG.DJP:  jpg_plug.exe DJ505JC %i %o
　とすれば、jpg_plug.exe で .jpg を .djp に変換します。

  %iが入力ファイル名, %o が出力ファイル名になります。%を現わすときは%%
と記述してください。変換後拡張子は、pimkで入力できるフォーマットを指定
してください。定義出来るかずは 64 個までです（がそれ以前にメモリが足り
なくなる可能性大^^;）

  なお、このプラグイン機能は、デフォルトではオフになっています。
　（速度、利用度を考えると、たいていは利用しそうにないので）
  プラグインしたい場合は、コマンドラインで毎度 -j を指定するか、デフォ
ルトにしたいならば pimk.cfg 中に -j を指定してください。



■  たわごと

+++
  　DoPI.exeというPiローダを公開してましたが、そのソースが自分でも手を
  つけるのが嫌になるくらいばっちぃものになってしまったので、新たに作っ
  たって代物です。
    Pimk は DoPIの後釜ですが、DoPIの持ってる機能をすべてサポートするつ
  もりは無いので別名にしました（しかし、もう DoPI は不要になっとるな）

+++
    関係無い話だけど、大学時代お世話になった先輩がなんか作家デビューし
  ちゃってるので、その宣伝をば.... えっと、
  　『銃と魔法』『銃と魔法２　青い炎』川崎康宏著（富士見ファンタジア文庫）
  って本です(笑)。おもしろかったっす。

+++v1.00
    たったこんだけのバージョンアップなのに、なんか延びに延びてやっとこ
  さです。　３月、v0.80アップ後すぐにカタ着けるつもりだったのに...今は
  ９月だ^^;（もっともこの間、個人的にはいろんなことがあった..ｼﾐｼﾞﾐ）

  　とりあえず、pimk は、これにて完成ってことで v1.00 にしちまうことに
  しました。もちろんバグがあれば修正するだろうけど。　追加は pimk では
  行なわないだろう、と。もっとも.his 見返すと基本的なとこは最初の２ヵ月
  ですんでいて、あとはwab/9821/hfの対応で、結局PC9801,PC386Mにとっては
  あまり変わってない...
    自分のもってないハードに対応するってのはシンドイもんですね。思う以
  上に時間手間がかかるわ。完成とかほざきながら、実際のところWAB,HF+,SF
  については v1.00 では全くチェックしてないっす^^;（だもんで動作連絡く
  ださいませ）
  
  　みすらんであ氏のWAB系用マルチローダ WML や、その他の方のグラフィッ
  クアクセスレター用マルチローダを見るにつけＦＳＷの画像ローダとしては
  このほうが正しいよなあ、とシミジミ... 実のとこ pimk はCG集用のローダ
  を作ろうという思惑もあったのだけどもはや... んんん pimk って中途半端.
  BERO氏の多Ｇボード対応のmjl,mpicl とか見ると特に...


+++v2.50
    v2.00でのMAG につづいて 無圧縮 BMP , Q0(RGB), DJPﾌﾟﾗｸﾞｲﾝに対応して
    しまった...（おかげでまた太ってしまった）
    これらの対応はメインマシンの9821のためでなく、実家に置いてる PC386M
    のためということで。386Mで MAG,BMPの256画ズリズリがしたいのと、めっ
    たに使わんなあと思いつつまったくプラグインできんのも何なので、でき
    るようにしてみました（探したわけでないのですでにいいものがあるかも）
    BMP対応ではフルカラー無視すると自分にさえ使わないと思われるので、
    とりあえず下手でも減色するようにし、ついでにQ0,DJPに対応した、と。

　　あっと、今回かなり、みすらんであ氏のwml21の影響をうけました:-）

　　例によって PC9821As での簡単なテストのみで、HF+,SF2,WAB については
    ぜんぜんチェックしていませんので、動作確認をされた方、よろしければ
    ぜひ連絡くださいませm(_ _)m
    いろいろいじったので結構あやしいので...



■  参考等

    プログラムは TurboC(++ v1.01) と 自作アセンブラ・プリプロセッサ と
  tasm v3.5 を用いて作成されています。

　　Piフォーマットはやなぎさわ氏の考案された16/256画像フォーマットです。

　　MAGフォーマットはWoody RINN氏の考案された16/256画像フォーマットです。

    piの展開ルーチンは、結局BERO氏のpi.exeのソースをおおいに参考（って
  か盗作）にしました... 追い付くとこまでいってませんが、おかげでそれな
  りに速くなりました(^^)

    力技60色表示は篠原氏作の gifm.exeのgifmtech.docを参考にしました...
  が、ぼくの力不足でかなりちらつきます. 他にもいろいろ参考してみたけど
  ...頭＆腕がついてこず利用できませんでした^^;

  　HF+,SF対応は TEKITO氏が W_Rinn氏の fb.pas を移植＆改訂して配布され
  てる fb.c を使用しました。

  　WABS対応は、ばっかす氏の wabtech1〜4 を参考・引用し、他に K.S.氏の
  WMAGLのソースやWAB-2000対策では みすらんであ氏の wmultiのwabdisp.cを
  参考にしました。

    PC9821 対応は I/O'94-2号の ASARIN 氏の bmpl9821 の記事・ソース及び
  こうのたけし氏のml256.asm,ざべ'93'9号の記事を参考にしました。
  （しかし思いのほか難産... ﾓ〜ｲﾔ）

    と。ゲゲ坊さんにはＨＦ３、ＳＦ２をお借りしました。でもって100MEGA-
  NET(旧名:贋作倶楽部)SYSOPのあきらんサンには、WABSやHF+をお借りしたり
  押し掛けて行ってPC9821等を使わせてもらいました。

  　開発には所属している『新世界』というサークルのたまり場をよく使わせ
  ていただきました。

  上記方々、その他デバッグに協力してくれてるみなさま、どうもありがとう
  ございますです。



■  配布等

    このプログラムはいわゆるフリーソフトウェア(ＦＳＷ)です。
    パソ通(ｵﾝﾗｲﾝ) での非営利配布ならば作者に連絡不要で再配布していただ
  いてかまいません。その他の場合（雑誌紹介とかディスク配布で同梱したい
  など）事前に相談ください、ってことで^^;
  それから作者はいかなる責任も義務も負いません。利用者の責任で用いてく
  ださい。



■  おわりに

  まず、何かバグはいるでせう:-)。

　いっぱい書いてないことあるでせうが、さわってもらえば、ま、なんとかな
　るかと...^^;

                                てんかﾐ☆（きたむら まさし）
                                NIFTY                       NBB00541
                                100MEGA-NET                 #31
                                (旧名:贋作倶楽部)
