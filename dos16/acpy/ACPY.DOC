acpy

  おもに同名ファイルがあれば追加書き込みするコピー・コマンド.



■  つかいかた

USAGE: acpy [-opts] file(s)...

-a        出力先に同名 file が存在する場合、追加書込 (ﾃﾞﾌｫﾙﾄ)
-o        出力先に同名 file が存在する場合、上書き
-t        テキスト・モードでオープン (ﾃﾞﾌｫﾙﾄ)
-b        バイナリ・モードでオープン
-d<dir>   指定されたファイルをディレクトリ<dir>にコピー
-m<mfile> 指定されたファイルを順にファイル <mfile> に出力
-s<dir>   入力するファイルのあるディレクトリを指定。
　　　　　入力ファイルの指定でディレクトリ名を付けないでください。

指定する file は "入力ファイル" です。

-d,-m のいずれかの指定が必要です. つまり出力先を必ず指定しないといけ
ないってことです。

-s,-iの<dir>は省略できませんが、-m の<mfile>は省略されると標準出力に
なります。

-a,-o省略時は -a が指定されたことになります。

-b,-t省略時は -t が指定されたことになります。

  コピーするのは、テキスト・ファイルのみ、か、バイナリ・ファイルのみ、
でないといけません。msdosではテキストファイルの最後にEOFとして$1a が
付加されている場合があり、テキスト・ファイルを繋げる（追加書込をする）
には EOFを取り除く必要があるけど、バイナリ・ファイルに対しては逆にそん
なことをしてはいけないし、で、必ず一方のみの作業にしてください。
（実際にはテキスト・モードではＣのライブラリの都合で $0a が $0d0a に
　変換されたりするのでバイナリを扱う場合は必ず -b を指定しませう）



■　たわごと

　つくった当時は、ラムディスクに落としたログ・ファイルを保存ディスク
にコピーする目的でつくりました（でも、ＨＤＤが付いてからは直接ＨＤＤ
に記録するので、滅多につかわない^^;）

  再コンパイルは LSI-C(試食版) でしてね...って、-mでの標準出力の場合
にfsetbin,fsettext を使ったためですが... 今から思えばMSDOSで標準出力
に対応しても使うことまずないので、めんどくさいだけなのだけど...
単にos9時代の習慣をひきずっていた、と^^;
　バイナリ・ファイルのマージ自体、msdosではまずすることないのにね^^;

　配布するほどのものでもなく、作ってから結構たってるしろもんですが、
たあいないものでも、やはり折角作ったものだしディスクで腐らせとくに
してもほんとに腐ってリードエラーが出ると結構悲しいものなので、バック
アップの意味でアップロードする次第でごぜえますの^^;

　ということでたいしたことしてるわけでないので、とりあえずＰＤＳ、と。
　が、PDSといえど著作者人格権は守られている(ﾊｽﾞﾀﾞ)、ねと（ソースに銘記
された著作者名や変更者名はけずらないで、ってね）

					てんかﾐ☆（きたむらまさし）
					Nifty			NBB00541
	                                贋作倶楽部(06-307-5407) #31
